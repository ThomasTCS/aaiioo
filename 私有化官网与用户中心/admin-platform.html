<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIO 运营平台</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .sidebar-menu li a {
            transition: all 0.3s ease;
        }
        .sidebar-menu li a:hover {
            background-color: #1e40af;
            padding-left: 1.5rem;
        }
        .sidebar-menu li a.active {
            background-color: #1e40af;
            border-right: 4px solid #60a5fa;
        }
        .submenu {
            display: none;
            background-color: #1e3a8a;
        }
        .submenu.active {
            display: block;
        }
        .submenu li a {
            padding-left: 2rem;
            font-size: 0.875rem;
        }
        .submenu li a:hover {
            padding-left: 2.5rem;
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- 检查登录状态 -->
    <script>
        if (!localStorage.getItem('admin_user')) {
            window.location.href = 'admin-login.html';
        }
    </script>

    <div class="flex h-screen">
        <!-- 左侧菜单 -->
        <div class="w-64 bg-blue-900 text-white flex flex-col">
            <!-- Logo -->
            <div class="p-4 border-b border-blue-800">
                <h1 class="text-xl font-bold">AIO 运营平台</h1>
            </div>
            
            <!-- 菜单 -->
            <nav class="flex-1 overflow-y-auto">
                <ul class="sidebar-menu py-4">
                    <!-- 首页 -->
                    <li>
                        <a href="#" class="block px-4 py-3 hover:bg-blue-800" onclick="loadPage('admin-home.html')">
                            <i class="inline-block w-5 h-5 mr-3">📊</i>
                            首页
                        </a>
                    </li>
                    
                    <!-- 客户管理 -->
                    <li>
                        <a href="#" class="block px-4 py-3 hover:bg-blue-800" onclick="toggleSubmenu('customer-menu')">
                            <i class="inline-block w-5 h-5 mr-3">👥</i>
                            客户管理
                            <span class="float-right">▼</span>
                        </a>
                        <ul id="customer-menu" class="submenu">
                            <li>
                                                                        <a href="#" class="block py-2 hover:bg-blue-700" onclick="loadPage('admin-private-customers.html')">
                  私有化客户
                </a>
                            </li>
                            <li>
                                <a href="#" class="block py-2 hover:bg-blue-700" onclick="loadPage('admin-saas-customers.html')">
                                    SaaS 客户
                                </a>
                            </li>
                        </ul>
                    </li>
                    
                    <!-- 订单管理 -->
                    <li>
                        <a href="#" class="block px-4 py-3 hover:bg-blue-800" onclick="toggleSubmenu('order-menu')">
                            <i class="inline-block w-5 h-5 mr-3">📋</i>
                            订单管理
                            <span class="float-right">▼</span>
                        </a>
                        <ul id="order-menu" class="submenu">
                            <li>
                                                                        <a href="#" class="block py-2 hover:bg-blue-700" onclick="loadPage('admin-private-orders.html')">
                  私有化订单
                </a>
                            </li>
                            <li>
                                <a href="#" class="block py-2 hover:bg-blue-700" onclick="loadPage('admin-saas-orders.html')">
                                    SaaS 订单
                                </a>
                            </li>
                        </ul>
                    </li>
                    
                    <!-- 销售列表 -->
                    <li>
                        <a href="#" class="block px-4 py-3 hover:bg-blue-800" onclick="loadPage('admin-sales.html')">
                            <i class="inline-block w-5 h-5 mr-3">💼</i>
                            销售列表
                        </a>
                    </li>
                    
                    <!-- 平台账号 -->
                    <li>
                        <a href="#" class="block px-4 py-3 hover:bg-blue-800" onclick="toggleSubmenu('account-menu')">
                            <i class="inline-block w-5 h-5 mr-3">👤</i>
                            平台账号
                            <span class="float-right">▼</span>
                        </a>
                        <ul id="account-menu" class="submenu">
                            <li>
                                <a href="#" class="block py-2 hover:bg-blue-700" onclick="loadPage('admin-account-management.html')">
                                    账号管理
                                </a>
                            </li>
                            <li>
                                <a href="#" class="block py-2 hover:bg-blue-700" onclick="loadPage('admin-role-management.html')">
                                    角色管理
                                </a>
                            </li>
                        </ul>
                    </li>
                    
                    <!-- 权益管理 -->
                    <li>
                        <a href="#" class="block px-4 py-3 hover:bg-blue-800" onclick="loadPage('admin-benefits-management.html')">
                            <i class="inline-block w-5 h-5 mr-3">🎁</i>
                            权益管理
                        </a>
                    </li>
                    
                    <!-- 费用管理 -->
                    <li>
                        <a href="#" class="block px-4 py-3 hover:bg-blue-800" onclick="toggleSubmenu('pricing-menu')">
                            <i class="inline-block w-5 h-5 mr-3">💰</i>
                            费用管理
                            <span class="float-right">▼</span>
                        </a>
                        <ul id="pricing-menu" class="submenu">
                            <li>
                                <a href="#" class="block py-2 hover:bg-blue-700" onclick="loadPage('admin-private-pricing.html')">
                                    私有化费用
                                </a>
                            </li>
                            <li>
                                <a href="#" class="block py-2 hover:bg-blue-700" onclick="loadPage('admin-saas-pricing.html')">
                                    SaaS 费用
                                </a>
                            </li>
                        </ul>
                    </li>
                    
                    <!-- 财务收支 -->
                    <li>
                        <a href="#" class="block px-4 py-3 hover:bg-blue-800" onclick="loadPage('admin-financial.html')">
                            <i class="inline-block w-5 h-5 mr-3">📊</i>
                            财务收支
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
        
        <!-- 右侧内容区域 -->
        <div class="flex-1 flex flex-col">
            <!-- 顶部导航栏 -->
            <header class="bg-white shadow-sm border-b px-6 py-4">
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <h2 id="page-title" class="text-xl font-semibold text-gray-800">首页</h2>
                    </div>
                    <div class="flex items-center space-x-4">
                        <span class="text-gray-600">欢迎，<span id="username" class="font-medium"></span></span>
                        <button onclick="logout()" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition duration-200">
                            退出登录
                        </button>
                    </div>
                </div>
            </header>
            
            <!-- 内容区域 -->
            <main class="flex-1 overflow-hidden">
                <iframe id="content-frame" src="admin-home.html" class="w-full h-full border-none"></iframe>
            </main>
        </div>
    </div>

    <script>
        // 显示当前登录用户
        document.getElementById('username').textContent = localStorage.getItem('admin_user');

        // 加载页面
        function loadPage(url) {
            document.getElementById('content-frame').src = url;
            
            // 更新页面标题
            const titles = {
                'admin-home.html': '首页',
                'admin-private-customers.html': '私有化客户',
                'admin-saas-customers.html': 'SaaS 客户',
                'admin-private-orders.html': '私有化订单',
                'admin-saas-orders.html': 'SaaS 订单',
                'admin-sales.html': '销售列表',
                'admin-account-management.html': '账号管理',
                'admin-role-management.html': '角色管理',
                'admin-benefits-management.html': '权益管理',
                'admin-private-pricing.html': '私有化费用',
                'admin-saas-pricing.html': 'SaaS 费用',
                'admin-financial.html': '财务收支'
            };
            
            document.getElementById('page-title').textContent = titles[url] || '首页';
            
            // 更新菜单激活状态
            updateActiveMenu(url);
        }

        // 切换子菜单
        function toggleSubmenu(menuId) {
            const submenu = document.getElementById(menuId);
            const isActive = submenu.classList.contains('active');
            
            // 关闭所有子菜单
            document.querySelectorAll('.submenu').forEach(menu => {
                menu.classList.remove('active');
            });
            
            // 切换当前子菜单
            if (!isActive) {
                submenu.classList.add('active');
            }
        }

        // 更新菜单激活状态
        function updateActiveMenu(url) {
            // 移除所有激活状态
            document.querySelectorAll('.sidebar-menu a').forEach(link => {
                link.classList.remove('active');
            });
            
            // 根据URL激活对应菜单项
            const menuItems = document.querySelectorAll('.sidebar-menu a[onclick*="' + url + '"]');
            if (menuItems.length > 0) {
                menuItems[0].classList.add('active');
            }
        }

        // 退出登录
        function logout() {
            if (confirm('确定要退出登录吗？')) {
                localStorage.removeItem('admin_user');
                window.location.href = 'admin-login.html';
            }
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 默认激活首页
            updateActiveMenu('admin-home.html');
        });

        // 监听来自子页面的消息
        window.addEventListener('message', function(event) {
            if (event.data.type === 'loadPage') {
                // 加载指定页面
                loadPage(event.data.url);
                
                // 如果有自定义标题，则更新标题
                if (event.data.title) {
                    document.getElementById('page-title').textContent = event.data.title;
                }
            }
        });
    </script>
</body>
</html> 